<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article#
" lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Week 9, 10 and 11 - The challenge, the calamity, the hope, and the salvation. | Universe OpenAstronomy</title>
<link href="../../../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" hreflang="en" href="../../../../rss.xml">
<link rel="canonical" href="http://openastronomy.org/Universe_OA/posts/2022/08/20220828_0000_tranhuunhathuy/">
<!--[if lt IE 9]><script src="../../../../assets/js/html5.js"></script><![endif]--><meta name="author" content="TranHuuNhatHuy">
<link rel="prev" href="../20220826_1631_mihirtripathi97/" title="GSoC @ Stingray: Testing Testing TestingÂ â€¦" type="text/html">
<link rel="next" href="../../09/20220901_1135_sagarchotalia/" title="2022 06 04 Chapter 0" type="text/html">
<meta property="og:site_name" content="Universe OpenAstronomy">
<meta property="og:title" content="Week 9, 10 and 11 - The challenge, the calamity, the hope, and the sal">
<meta property="og:url" content="http://openastronomy.org/Universe_OA/posts/2022/08/20220828_0000_tranhuunhathuy/">
<meta property="og:description" content="1. The challenge
After successfully dealing with Mr. Minouâ€™s case, I got a message from another RADIS spectroscopic scientist - Mr. Corentin Grimaldi, a Ph.D. candidate of CentraleSupÃ©lec, Paris. He h">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2022-08-28T00:00:00+01:00">
<meta property="article:tag" content="radis">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-expand-md static-top mb-4
navbar-dark
bg-dark
"><div class="container">
<!-- This keeps the margins nice -->
        <a class="navbar-brand" href="../../../../">

            <span id="blog-title">Universe OpenAstronomy</span>
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="bs-navbar">
            <ul class="navbar-nav mr-auto">
<li class="nav-item">
<a href="../../../../archive.html" class="nav-link">Archive</a>
                </li>
<li class="nav-item">
<a href="../../../../categories/" class="nav-link">Tags</a>
                </li>
<li class="nav-item">
<a href="../../../../rss.xml" class="nav-link">RSS feed</a>

                
            </li>
</ul>
<ul class="navbar-nav navbar-right"></ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        
            <style>
@media screen and (max-width: 600px) {
.table-done {
    visibility: hidden;
    clear: both;
    padding: 0px 300px;
    width: 50%;
    display: block;
  }
}
            </style>
<div class="sidebar" style="width:100%; max-width:100%; float:initial; margin:0px;"><ul>
<li>
                   <img src="https://cdn.rawgit.com/sunpy/sunpy-logo/master/generated/sunpy_icon.svg" height="16" width="16"><a href="https://dev.to/ahmedhosssam" data-toggle="tooltip" data-placement="top" title="2024-06-17 04:44:45+01:00">
                    Ahmed Hossam
                   </a>
                   <span class="table-done" style="float: right; padding-right:600px;"><span style="display:table-cell; width:7%;" data-toggle="tooltip" title="2024-05-27 - 2024-06-10">âœ…</span><span style="display:table-cell; width:7%;" data-toggle="tooltip" title="2024-06-10 - 2024-06-24">âœ…</span><span style="display:table-cell; width:7%;opacity: 0.5;" data-toggle="tooltip" title="2024-06-24 - 2024-07-01">ğŸ”²</span><span style="display:table-cell; width:7%;opacity: 0.5;" data-toggle="tooltip" title="2024-07-01 - 2024-07-15">ğŸ”²</span><span style="display:table-cell; width:7%;opacity: 0.5;" data-toggle="tooltip" title="2024-07-15 - 2024-07-29">ğŸ”²</span><span style="display:table-cell; width:7%;opacity: 0.5;" data-toggle="tooltip" title="2024-07-29 - 2024-08-12">ğŸ”²</span></span>
                </li>
<li>
                   <img src="https://openastronomy.org/img/members/radis_ico.png" height="16" width="16"><a href="http://code29563.github.io" data-toggle="tooltip" data-placement="top" title="2024-06-10 00:00:00+01:00">
                    code29563
                   </a>
                   <span class="table-done" style="float: right; padding-right:600px;"><span style="display:table-cell; width:7%;" data-toggle="tooltip" title="2024-05-27 - 2024-06-10">âœ…</span><span style="display:table-cell; width:7%;" data-toggle="tooltip" title="2024-06-10 - 2024-06-24">ğŸ”²</span><span style="display:table-cell; width:7%;opacity: 0.5;" data-toggle="tooltip" title="2024-06-24 - 2024-07-01">ğŸ”²</span><span style="display:table-cell; width:7%;opacity: 0.5;" data-toggle="tooltip" title="2024-07-01 - 2024-07-15">ğŸ”²</span><span style="display:table-cell; width:7%;opacity: 0.5;" data-toggle="tooltip" title="2024-07-15 - 2024-07-29">ğŸ”²</span><span style="display:table-cell; width:7%;opacity: 0.5;" data-toggle="tooltip" title="2024-07-29 - 2024-08-12">ğŸ”²</span></span>
                </li>
<li>
                   <img src="https://openastronomy.org/img/members/gnuastro.svg" height="16" width="16"><a href="https://deadspheroid.github.io" data-toggle="tooltip" data-placement="top" title="2024-06-09 00:45:00+01:00">
                    DeadSpheroid
                   </a>
                   <span class="table-done" style="float: right; padding-right:600px;"><span style="display:table-cell; width:7%;" data-toggle="tooltip" title="2024-05-27 - 2024-06-10">âœ…</span><span style="display:table-cell; width:7%;" data-toggle="tooltip" title="2024-06-10 - 2024-06-24">ğŸ”²</span><span style="display:table-cell; width:7%;opacity: 0.5;" data-toggle="tooltip" title="2024-06-24 - 2024-07-01">ğŸ”²</span><span style="display:table-cell; width:7%;opacity: 0.5;" data-toggle="tooltip" title="2024-07-01 - 2024-07-15">ğŸ”²</span><span style="display:table-cell; width:7%;opacity: 0.5;" data-toggle="tooltip" title="2024-07-15 - 2024-07-29">ğŸ”²</span><span style="display:table-cell; width:7%;opacity: 0.5;" data-toggle="tooltip" title="2024-07-29 - 2024-08-12">ğŸ”²</span></span>
                </li>
<li>
                   <img src="https://cdn.rawgit.com/sunpy/sunpy-logo/master/generated/sunpy_icon.svg" height="16" width="16"><a href="https://deus1704.vercel.app" data-toggle="tooltip" data-placement="top" title="2024-06-15 14:59:31+01:00">
                    Deus1704
                   </a>
                   <span class="table-done" style="float: right; padding-right:600px;"><span style="display:table-cell; width:7%;" data-toggle="tooltip" title="2024-05-27 - 2024-06-10">âŒ</span><span style="display:table-cell; width:7%;" data-toggle="tooltip" title="2024-06-10 - 2024-06-24">âœ…</span><span style="display:table-cell; width:7%;opacity: 0.5;" data-toggle="tooltip" title="2024-06-24 - 2024-07-01">ğŸ”²</span><span style="display:table-cell; width:7%;opacity: 0.5;" data-toggle="tooltip" title="2024-07-01 - 2024-07-15">ğŸ”²</span><span style="display:table-cell; width:7%;opacity: 0.5;" data-toggle="tooltip" title="2024-07-15 - 2024-07-29">ğŸ”²</span><span style="display:table-cell; width:7%;opacity: 0.5;" data-toggle="tooltip" title="2024-07-29 - 2024-08-12">ğŸ”²</span></span>
                </li>
<li>
                   <img src="https://github.com/StingraySoftware.png?size=40" height="16" width="16"><a href="https://gsoc2024.kartikmandar.com" data-toggle="tooltip" data-placement="top" title="2024-06-19 13:11:00+01:00">
                    Kartik Mandar
                   </a>
                   <span class="table-done" style="float: right; padding-right:600px;"><span style="display:table-cell; width:7%;" data-toggle="tooltip" title="2024-05-27 - 2024-06-10">âœ…</span><span style="display:table-cell; width:7%;" data-toggle="tooltip" title="2024-06-10 - 2024-06-24">âœ…</span><span style="display:table-cell; width:7%;opacity: 0.5;" data-toggle="tooltip" title="2024-06-24 - 2024-07-01">ğŸ”²</span><span style="display:table-cell; width:7%;opacity: 0.5;" data-toggle="tooltip" title="2024-07-01 - 2024-07-15">ğŸ”²</span><span style="display:table-cell; width:7%;opacity: 0.5;" data-toggle="tooltip" title="2024-07-15 - 2024-07-29">ğŸ”²</span><span style="display:table-cell; width:7%;opacity: 0.5;" data-toggle="tooltip" title="2024-07-29 - 2024-08-12">ğŸ”²</span></span>
                </li>
<li>
                   <img src="https://github.com/fornax-navo.png?size=40" height="16" width="16"><a href="https://lucasmartingarciagsoc24openastronomy.blogspot.com" data-toggle="tooltip" data-placement="top" title="2024-06-09 12:08:00+01:00">
                    Lucas Martin Garcia
                   </a>
                   <span class="table-done" style="float: right; padding-right:600px;"><span style="display:table-cell; width:7%;" data-toggle="tooltip" title="2024-05-27 - 2024-06-10">âœ…</span><span style="display:table-cell; width:7%;" data-toggle="tooltip" title="2024-06-10 - 2024-06-24">ğŸ”²</span><span style="display:table-cell; width:7%;opacity: 0.5;" data-toggle="tooltip" title="2024-06-24 - 2024-07-01">ğŸ”²</span><span style="display:table-cell; width:7%;opacity: 0.5;" data-toggle="tooltip" title="2024-07-01 - 2024-07-15">ğŸ”²</span><span style="display:table-cell; width:7%;opacity: 0.5;" data-toggle="tooltip" title="2024-07-15 - 2024-07-29">ğŸ”²</span><span style="display:table-cell; width:7%;opacity: 0.5;" data-toggle="tooltip" title="2024-07-29 - 2024-08-12">ğŸ”²</span></span>
                </li>
<li>
                   <img src="https://cdn.rawgit.com/sunpy/sunpy-logo/master/generated/sunpy_icon.svg" height="16" width="16"><a href="https://medium.com/@manitsingh018" data-toggle="tooltip" data-placement="top" title="2024-06-02 09:15:15+01:00" style="color:rgb(255,0,0)">
                    Manit Singh
                   </a>
                   <span class="table-done" style="float: right; padding-right:600px;"><span style="display:table-cell; width:7%;" data-toggle="tooltip" title="2024-05-27 - 2024-06-10">âœ…</span><span style="display:table-cell; width:7%;" data-toggle="tooltip" title="2024-06-10 - 2024-06-24">ğŸ”²</span><span style="display:table-cell; width:7%;opacity: 0.5;" data-toggle="tooltip" title="2024-06-24 - 2024-07-01">ğŸ”²</span><span style="display:table-cell; width:7%;opacity: 0.5;" data-toggle="tooltip" title="2024-07-01 - 2024-07-15">ğŸ”²</span><span style="display:table-cell; width:7%;opacity: 0.5;" data-toggle="tooltip" title="2024-07-15 - 2024-07-29">ğŸ”²</span><span style="display:table-cell; width:7%;opacity: 0.5;" data-toggle="tooltip" title="2024-07-29 - 2024-08-12">ğŸ”²</span></span>
                </li>
<li>
                   <img src="https://cdn.rawgit.com/sunpy/sunpy-logo/master/generated/sunpy_icon.svg" height="16" width="16"><a href="https://viciouseagle03.github.io" data-toggle="tooltip" data-placement="top" title="2024-06-07 20:45:27+01:00">
                    ViciousEagle03
                   </a>
                   <span class="table-done" style="float: right; padding-right:600px;"><span style="display:table-cell; width:7%;" data-toggle="tooltip" title="2024-05-27 - 2024-06-10">âœ…</span><span style="display:table-cell; width:7%;" data-toggle="tooltip" title="2024-06-10 - 2024-06-24">ğŸ”²</span><span style="display:table-cell; width:7%;opacity: 0.5;" data-toggle="tooltip" title="2024-06-24 - 2024-07-01">ğŸ”²</span><span style="display:table-cell; width:7%;opacity: 0.5;" data-toggle="tooltip" title="2024-07-01 - 2024-07-15">ğŸ”²</span><span style="display:table-cell; width:7%;opacity: 0.5;" data-toggle="tooltip" title="2024-07-15 - 2024-07-29">ğŸ”²</span><span style="display:table-cell; width:7%;opacity: 0.5;" data-toggle="tooltip" title="2024-07-29 - 2024-08-12">ğŸ”²</span></span>
                </li>
</ul></div>
        
        
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Week 9, 10 and 11 - The challenge, the calamity, the hope, and the salvation.</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../../../authors/tranhuunhathuy/">TranHuuNhatHuy</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2022-08-28T00:00:00+01:00" itemprop="datePublished" title="2022-08-28 00:00">2022-08-28 00:00</time></a>
            </p>
            

                    <p class="linkline"><a href="https://https://gsoc2022tranhuunhathuy.gatsbyjs.io/9.%C2%A0week%209-10/">Original site</a></p>
        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <h4>1. The challenge</h4>
<p>After successfully dealing with Mr. Minouâ€™s case, I got a message from another RADIS spectroscopic scientist - Mr. Corentin Grimaldi, a Ph.D. candidate of CentraleSupÃ©lec, Paris. He had several experimental spectra containing CO and CO2 at different temperatures and possibly in non-equillibrium. There were 3 spectra in total, and he also provided 3 Python scripts he used to fit them:</p>
<ul>
<!-- TEASER_END --><li>
<code class="language-text">Fit_init_V2.py</code> : the script for fitting initialization, which conducts all the basic functions such as normalization, crop, slit convolution &amp; dispersion, residual calculation, etc.</li>
<li>
<code class="language-text">Optimize_find_min_2D_V2.py</code> : the program that looks for optimum parameters such as <code class="language-text">Trot</code>, <code class="language-text">Tvib</code>, <code class="language-text">molfrac</code>, etc.</li>
<li>
<code class="language-text">fit_CO_1T_CO2_2T_cv_V2.py</code> :  the master program that conducts main fitting job.</li>
</ul>
<p>So there is one thing that I need to mention first: these spectra are quite challenging to fit. Not hard, but challenging. Both CO2 and CO overlap in this spectral region, and a lot of parameters are unknown: <code class="language-text">Trot</code>, <code class="language-text">Tvib</code>, <code class="language-text">x_CO</code> for CO and <code class="language-text">Trot</code>, <code class="language-text">Tvib1</code>, <code class="language-text">Tvib2</code>, <code class="language-text">Tvib3</code>, <code class="language-text">x_CO2</code> for CO2. Furthermore, unfortunately some cold CO2 and H2O absorb the incomming radiance and the mole fraction is also unknown, too. So basically, there are a lot of fit parameters we need to find, and they donâ€™t really follow the normal spectrum calculation that RADIS offers.</p>
<p>Although Mr. Corentin provided a fitting pipeline for these cases, I still kinda doubt whether should I implement his very specific and exotic approach to my unified modules. After experiencing a lot of fitting scripts from various users in the community, I feel like although I can implement a common interface to support most of fitting cases, but definitely not all of them, since each experimental spectrum is suitable for a unique workflow. Mr. Corentinâ€™s case and approach is just somewhat way too unique and completely different from mine. So basically, his approach is quite difficult to be generalized and implemented into a module aimed to serve general fitting cases.</p>
<h4>2. The calamity</h4>
<p>After spending the whole week 9 finding a solution for Mr. Corentinâ€™s cases, at the beginning of week 10, all of sudden my MSI laptop - the 6-year buddy always accompanies me to all the coding contests and evreything - stopped working. The next day, the iPhone 11 I bought this February had its screen flickered intensively and thus unable to use. Within less than 48 hours, I, one of GSoC contributor, was cut off from the modern life! All the following days were desperate efforts trying to get my stuffs fixed but nothing worked, trying to communicate with the mentors, trying not to miss any important emails and news. Amidst the challenging second phase of GSoC, I was rendered useless for one week straight! I shudder recalling it, those dark and desperate days sitting in Japanese internet cafes to access the Internet, while extremely anxious about a future of failing GSoC.</p>
<h4>3. The hope</h4>
<p>After one week of despair, my new Macbook Air M1 finally arrived!</p>
<p><span class="gatsby-resp-image-wrapper" style="display: block; margin-left: auto; margin-right: auto;">
<a class="gatsby-resp-image-link" href="https://gsoc2022tranhuunhathuy.gatsbyjs.io/static/235c694787085f9f7595ef9772eb4744/0f98f/new_Mac.jpg" rel="noopener" style="display: block;" target="_blank">
<span class="gatsby-resp-image-background-image" style="display: block;"></span>
<img alt="My new buddy!" class="gatsby-resp-image-image" src="https://gsoc2022tranhuunhathuy.gatsbyjs.io/static/235c694787085f9f7595ef9772eb4744/828fb/new_Mac.jpg" style="width: 100%; height: 100%; margin: 0; vertical-align: middle;" title="My new buddy!"></a>
</span></p>
<p>Finally days and nights in extreme anxious of being unable to do anything while seeing my friends committing and pushing onto GitHub, have finally gone! Now I have my new Mac (with an exorbitant cost as Japanese Yen is dropping like my mental condition recently), and within the remaining days until the final evaluation, I will rush my best with all I have to deliver my module!</p>
<h4>4. The salvation</h4>
<p>After a long time of struggling, I finally received new experimental spectra from Mr. Corentin. He finally realized that those old cases were just too complicated, and now we have 4 simpler tests case with only CO, in the spectral range of 2000 nm to 2600 nm, non-equillibrium, not really absorbed:</p>
<ol>
<li>
<p><a href="https://gsoc2022tranhuunhathuy.gatsbyjs.io/0_100cm%20Down%20Sampled%20-%2010cm_10pctCO2_1-wc-gw450-gr300-sl1500-acc5000-.spec">0_100cm%20Down%20Sampled%20-%2010cm_10pctCO2_1-wc-gw450-gr300-sl1500-acc5000-.spec</a></p>
</li>
<li>
<p><a href="https://gsoc2022tranhuunhathuy.gatsbyjs.io/0_100cm%20Down%20Sampled%20-%2020cm_10pctCO2_1-wc-gw450-gr300-sl1500-acc5000-.spec">0_100cm%20Down%20Sampled%20-%2020cm_10pctCO2_1-wc-gw450-gr300-sl1500-acc5000-.spec</a></p>
</li>
<li>
<p><a href="https://gsoc2022tranhuunhathuy.gatsbyjs.io/0_200cm%20Down%20Sampled%20-%2035cm_10pctCO2_1-wc-gw450-gr300-sl1500-acc5000-.spec">0_200cm%20Down%20Sampled%20-%2035cm_10pctCO2_1-wc-gw450-gr300-sl1500-acc5000-.spec</a></p>
</li>
<li>
<p><a href="https://gsoc2022tranhuunhathuy.gatsbyjs.io/0_300cm%20Down%20Sampled%20-%2010cm_10pctCO2_1-wc-gw450-gr300-sl1500-acc5000-.spec">0_300cm%20Down%20Sampled%20-%2010cm_10pctCO2_1-wc-gw450-gr300-sl1500-acc5000-.spec</a></p>
</li>
</ol>
<p>Also, in these cases Mr. Corentin introduced a complex slit settings like this:</p>
<div class="gatsby-highlight"><pre class="language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">slit_dispersion</span><span class="token punctuation">(</span>w<span class="token punctuation">)</span><span class="token punctuation">:</span>
phi <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">6.33</span>
f <span class="token operator">=</span> <span class="token number">750</span>
gr <span class="token operator">=</span> <span class="token number">300</span>
m <span class="token operator">=</span> <span class="token number">1</span>
phi <span class="token operator">*=</span> <span class="token operator">-</span> <span class="token number">2</span><span class="token operator">*</span>np<span class="token punctuation">.</span>pi<span class="token operator">/</span><span class="token number">360</span>
d <span class="token operator">=</span> <span class="token number">1e-3</span><span class="token operator">/</span>gr
disp <span class="token operator">=</span> w<span class="token operator">/</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">*</span>f<span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token operator">-</span>np<span class="token punctuation">.</span>tan<span class="token punctuation">(</span>phi<span class="token punctuation">)</span><span class="token operator">+</span>np<span class="token punctuation">.</span>sqrt<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">*</span>d<span class="token operator">/</span>m<span class="token operator">/</span><span class="token punctuation">(</span>w<span class="token operator">*</span><span class="token number">1e-9</span><span class="token punctuation">)</span><span class="token operator">*</span>np<span class="token punctuation">.</span>cos<span class="token punctuation">(</span>phi<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">**</span><span class="token number">2</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">return</span> disp  <span class="token comment"># nm/mm</span>

<span class="token keyword">def</span> <span class="token function">apply_my_slit</span><span class="token punctuation">(</span>spectrum<span class="token punctuation">,</span> inplace<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
slit <span class="token operator">=</span> <span class="token number">1500</span>  <span class="token comment"># Âµm</span>
pitch <span class="token operator">=</span> <span class="token number">20</span>   <span class="token comment"># Âµm</span>
top_slit_um <span class="token operator">=</span> slit <span class="token operator">-</span> pitch   <span class="token comment"># Âµm</span>
base_slit_um <span class="token operator">=</span> slit <span class="token operator">+</span> pitch  <span class="token comment"># Âµm</span>
center_slit <span class="token operator">=</span> <span class="token number">5090</span>
dispersion <span class="token operator">=</span> slit_dispersion<span class="token punctuation">(</span>center_slit<span class="token punctuation">)</span>
top_slit_nm <span class="token operator">=</span> top_slit_um<span class="token operator">*</span><span class="token number">1e-3</span><span class="token operator">*</span>dispersion
base_slit_nm <span class="token operator">=</span> base_slit_um<span class="token operator">*</span><span class="token number">1e-3</span><span class="token operator">*</span>dispersion<span class="token operator">*</span><span class="token number">1.33</span>
<span class="token keyword">return</span> spectrum<span class="token punctuation">.</span>apply_slit<span class="token punctuation">(</span><span class="token punctuation">(</span>top_slit_nm<span class="token punctuation">,</span> base_slit_nm<span class="token punctuation">)</span><span class="token punctuation">,</span> center_wavespace<span class="token operator">=</span>center_slit<span class="token punctuation">,</span> unit<span class="token operator">=</span><span class="token string">'nm'</span><span class="token punctuation">,</span> shape<span class="token operator">=</span><span class="token string">'trapezoidal'</span><span class="token punctuation">,</span> slit_dispersion<span class="token operator">=</span>slit_dispersion<span class="token punctuation">,</span> inplace<span class="token operator">=</span>inplace<span class="token punctuation">)</span></code></pre></div>
<p>Initially, my fitting module only allows <code class="language-text">slit</code> to be enter with the format of a slit value accompanied by slit unit. For example:</p>
<div class="gatsby-highlight"><pre class="language-python"><code class="language-python">experimental_conditions <span class="token operator">=</span> <span class="token punctuation">{</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token string">"slit"</span> <span class="token punctuation">:</span> <span class="token string">"-0.2 nm"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span></code></pre></div>
<p>To support Mr. Corentinâ€™s input, from now I implement input of complex slit settings in compliance with <a href="https://radis.readthedocs.io/en/latest/source/radis.spectrum.spectrum.html#radis.spectrum.spectrum.Spectrum.apply_slit">apply_slit()</a> function of RADIS. Advanced settings such like this can be inputted:</p>
<div class="gatsby-highlight"><pre class="language-python"><code class="language-python">experimental_conditions <span class="token operator">=</span> <span class="token punctuation">{</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token string">"slit"</span> <span class="token punctuation">:</span> <span class="token punctuation">{</span>
<span class="token string">"slit_function"</span> <span class="token punctuation">:</span> <span class="token punctuation">(</span>top_slit_nm<span class="token punctuation">,</span> base_slit_nm<span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token string">"unit"</span> <span class="token punctuation">:</span> <span class="token string">"nm"</span><span class="token punctuation">,</span>
<span class="token string">"shape"</span> <span class="token punctuation">:</span> <span class="token string">'trapezoidal'</span><span class="token punctuation">,</span>
<span class="token string">"center_wavespace"</span> <span class="token punctuation">:</span> center_slit<span class="token punctuation">,</span>
<span class="token string">"slit_dispersion"</span> <span class="token punctuation">:</span> slit_dispersion<span class="token punctuation">,</span>
<span class="token string">"inplace"</span> <span class="token punctuation">:</span> <span class="token boolean">False</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span></code></pre></div>
<p>And so, I have acquired very good results:</p>
<h5>Spectrum 1:</h5>
<ul>
<li>Tvib:             5975.28759 (init = 6000)</li>
<li>Trot:             5751.19260 (init = 4000)</li>
<li>mole_fraction:    0.05501671 (init = 0.1)</li>
</ul>
<p><span class="gatsby-resp-image-wrapper" style="display: block; margin-left: auto; margin-right: auto;">
<a class="gatsby-resp-image-link" href="https://gsoc2022tranhuunhathuy.gatsbyjs.io/static/2385b33c685a75c2a93493ceed61841d/cca35/s1.png" rel="noopener" style="display: block;" target="_blank">
<span class="gatsby-resp-image-background-image" style="display: block;"></span>
<img alt="Fit result of spectrum 1" class="gatsby-resp-image-image" src="https://gsoc2022tranhuunhathuy.gatsbyjs.io/static/2385b33c685a75c2a93493ceed61841d/f058b/s1.png" style="width: 100%; height: 100%; margin: 0; vertical-align: middle;" title="Fit result of spectrum 1"></a>
</span></p>
<h5>Spectrum 2:</h5>
<ul>
<li>Tvib:             4547.43903 (init = 6000)</li>
<li>Trot:             4073.50694 (init = 4000)</li>
<li>mole_fraction:    0.05939918 (init = 0.1)</li>
</ul>
<p><span class="gatsby-resp-image-wrapper" style="display: block; margin-left: auto; margin-right: auto;">
<a class="gatsby-resp-image-link" href="https://gsoc2022tranhuunhathuy.gatsbyjs.io/static/345f41ef9109afb638a3aa9eedb6e4f4/cca35/s2.png" rel="noopener" style="display: block;" target="_blank">
<span class="gatsby-resp-image-background-image" style="display: block;"></span>
<img alt="Fit result of spectrum 2" class="gatsby-resp-image-image" src="https://gsoc2022tranhuunhathuy.gatsbyjs.io/static/345f41ef9109afb638a3aa9eedb6e4f4/f058b/s2.png" style="width: 100%; height: 100%; margin: 0; vertical-align: middle;" title="Fit result of spectrum 2"></a>
</span></p>
<h5>Spectrum 3:</h5>
<ul>
<li>Tvib:             2811.98218 (init = 6000)</li>
<li>Trot:             2915.36318 (init = 4000)</li>
<li>mole_fraction:    0.07739941 (init = 0.05)</li>
</ul>
<p><span class="gatsby-resp-image-wrapper" style="display: block; margin-left: auto; margin-right: auto;">
<a class="gatsby-resp-image-link" href="https://gsoc2022tranhuunhathuy.gatsbyjs.io/static/5b1fb36019eae53d82648d9fdf049153/cca35/s3.png" rel="noopener" style="display: block;" target="_blank">
<span class="gatsby-resp-image-background-image" style="display: block;"></span>
<img alt="Fit result of spectrum 3" class="gatsby-resp-image-image" src="https://gsoc2022tranhuunhathuy.gatsbyjs.io/static/5b1fb36019eae53d82648d9fdf049153/f058b/s3.png" style="width: 100%; height: 100%; margin: 0; vertical-align: middle;" title="Fit result of spectrum 3"></a>
</span></p>
<h5>Spectrum 4:</h5>
<ul>
<li>Tvib:             4721.28892 (init = 6000)</li>
<li>Trot:             4728.52960 (init = 4000)</li>
<li>mole_fraction:    0.07008355 (init = 0.05)</li>
</ul>
<p><span class="gatsby-resp-image-wrapper" style="display: block; margin-left: auto; margin-right: auto;">
<a class="gatsby-resp-image-link" href="https://gsoc2022tranhuunhathuy.gatsbyjs.io/static/569114757da34f35d48661ef31830737/cca35/s4.png" rel="noopener" style="display: block;" target="_blank">
<span class="gatsby-resp-image-background-image" style="display: block;"></span>
<img alt="Fit result of spectrum 4" class="gatsby-resp-image-image" src="https://gsoc2022tranhuunhathuy.gatsbyjs.io/static/569114757da34f35d48661ef31830737/f058b/s4.png" style="width: 100%; height: 100%; margin: 0; vertical-align: middle;" title="Fit result of spectrum 4"></a>
</span></p>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../../../categories/radis/" rel="tag">radis</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../20220826_1631_mihirtripathi97/" rel="prev" title="GSoC @ Stingray: Testing Testing TestingÂ â€¦">Previous post</a>
            </li>
            <li class="next">
                <a href="../../09/20220901_1135_sagarchotalia/" rel="next" title="2022 06 04 Chapter 0">Next post</a>
            </li>
        </ul></nav></aside></article><!--End of body content--><footer id="footer">
            Contents Â© 2024         <a href="mailto:openastronomy@openastronomy.com">OpenAstronomy</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         
<a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/">
<img alt="Creative Commons License BY-SA" style="border-width:0; margin-bottom:12px;" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png"></a>
            
            
        </footer>
</div>
</div>


        <script src="../../../../assets/js/all-nocdn.js"></script><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element){var i=element.getElementsByTagName('img')[0];return i===undefined?'':i.alt;}});
    </script>
</body>
</html>
