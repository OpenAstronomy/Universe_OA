<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article#
" lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>First week - Spectra gazing and initial ideas for fitting module | Universe OpenAstronomy</title>
<link href="../../../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" hreflang="en" href="../../../../rss.xml">
<link rel="canonical" href="http://openastronomy.org/Universe_OA/posts/2022/06/20220619_0000_tranhuunhathuy/">
<!--[if lt IE 9]><script src="../../../../assets/js/html5.js"></script><![endif]--><meta name="author" content="TranHuuNhatHuy">
<link rel="prev" href="../20220616_0650_mihirtripathi97/" title="GSoC @ Stingray blog #0" type="text/html">
<link rel="next" href="../20220625_0000_supriya1702/" title="Coding Begins - week 1 and week 2" type="text/html">
<meta property="og:site_name" content="Universe OpenAstronomy">
<meta property="og:title" content="First week - Spectra gazing and initial ideas for fitting module">
<meta property="og:url" content="http://openastronomy.org/Universe_OA/posts/2022/06/20220619_0000_tranhuunhathuy/">
<meta property="og:description" content="So, according to the plan, in the first week I am supposed to finish these tasks:

Setup a dedicated repository for reference database. Upload gathered spectra labelled with ground truths onto the dat">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2022-06-19T00:00:00+01:00">
<meta property="article:tag" content="radis">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-expand-md static-top mb-4
navbar-dark
bg-dark
"><div class="container">
<!-- This keeps the margins nice -->
        <a class="navbar-brand" href="../../../../">

            <span id="blog-title">Universe OpenAstronomy</span>
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="bs-navbar">
            <ul class="navbar-nav mr-auto">
<li class="nav-item">
<a href="../../../../archive.html" class="nav-link">Archive</a>
                </li>
<li class="nav-item">
<a href="../../../../categories/" class="nav-link">Tags</a>
                </li>
<li class="nav-item">
<a href="../../../../rss.xml" class="nav-link">RSS feed</a>

                
            </li>
</ul>
<ul class="navbar-nav navbar-right"></ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        
            <style>
@media screen and (max-width: 600px) {
.table-done {
    visibility: hidden;
    clear: both;
    padding: 0px 300px;
    width: 50%;
    display: block;
  }
}
            </style>
<div class="sidebar" style="width:100%; max-width:100%; float:initial; margin:0px;"><ul>
<li>
                   <img src="https://cdn.rawgit.com/sunpy/sunpy-logo/master/generated/sunpy_icon.svg" height="16" width="16"><a href="https://exitflynn.github.io/blog/" data-toggle="tooltip" data-placement="top" title="2023-07-14 05:33:30+01:00">
                    exitflynn
                   </a>
                   <span class="table-done" style="float: right; padding-right:600px;"><span style="display:table-cell; width:7%;" data-toggle="tooltip" title="2023-05-29 - 2023-06-12">âŒ</span><span style="display:table-cell; width:7%;" data-toggle="tooltip" title="2023-06-12 - 2023-06-26">âœ…</span><span style="display:table-cell; width:7%;" data-toggle="tooltip" title="2023-06-26 - 2023-07-03">âœ…</span><span style="display:table-cell; width:7%;" data-toggle="tooltip" title="2023-07-03 - 2023-07-17">âœ…</span><span style="display:table-cell; width:7%;" data-toggle="tooltip" title="2023-07-17 - 2023-07-31">ğŸ”²</span><span style="display:table-cell; width:7%;opacity: 0.5;" data-toggle="tooltip" title="2023-07-31 - 2023-08-13">ğŸ”²</span></span>
                </li>
<li>
                   <img src="https://github.com/StingraySoftware.png?size=40" height="16" width="16"><a href="https://Gaurav17Joshi.github.io" data-toggle="tooltip" data-placement="top" title="2023-07-11 00:00:00+01:00">
                    Gaurav Joshi
                   </a>
                   <span class="table-done" style="float: right; padding-right:600px;"><span style="display:table-cell; width:7%;" data-toggle="tooltip" title="2023-05-29 - 2023-06-12">âœ…</span><span style="display:table-cell; width:7%;" data-toggle="tooltip" title="2023-06-12 - 2023-06-26">âœ…</span><span style="display:table-cell; width:7%;" data-toggle="tooltip" title="2023-06-26 - 2023-07-03">âŒ</span><span style="display:table-cell; width:7%;" data-toggle="tooltip" title="2023-07-03 - 2023-07-17">âœ…</span><span style="display:table-cell; width:7%;" data-toggle="tooltip" title="2023-07-17 - 2023-07-31">ğŸ”²</span><span style="display:table-cell; width:7%;opacity: 0.5;" data-toggle="tooltip" title="2023-07-31 - 2023-08-13">ğŸ”²</span></span>
                </li>
<li>
                   <img src="https://openastronomy.org/img/members/gnuastro.svg" height="16" width="16"><a href="https://Gaurav17Joshi.github.io" data-toggle="tooltip" data-placement="top" title="2023-07-04 00:00:00+01:00" style="color:rgb(255,0,0)">
                    Labib Asari
                   </a>
                   <span class="table-done" style="float: right; padding-right:600px;"><span style="display:table-cell; width:7%;" data-toggle="tooltip" title="2023-05-29 - 2023-06-12">âœ…</span><span style="display:table-cell; width:7%;" data-toggle="tooltip" title="2023-06-12 - 2023-06-26">âœ…</span><span style="display:table-cell; width:7%;" data-toggle="tooltip" title="2023-06-26 - 2023-07-03">âŒ</span><span style="display:table-cell; width:7%;" data-toggle="tooltip" title="2023-07-03 - 2023-07-17">âœ…</span><span style="display:table-cell; width:7%;" data-toggle="tooltip" title="2023-07-17 - 2023-07-31">ğŸ”²</span><span style="display:table-cell; width:7%;opacity: 0.5;" data-toggle="tooltip" title="2023-07-31 - 2023-08-13">ğŸ”²</span></span>
                </li>
<li>
                   <img src="https://github.com/StingraySoftware.png?size=40" height="16" width="16"><a href="https://dev.to/pupperemeritus" data-toggle="tooltip" data-placement="top" title="2023-07-03 19:17:26+01:00" style="color:rgb(255,0,0)">
                    pupper emeritus
                   </a>
                   <span class="table-done" style="float: right; padding-right:600px;"><span style="display:table-cell; width:7%;" data-toggle="tooltip" title="2023-05-29 - 2023-06-12">âœ…</span><span style="display:table-cell; width:7%;" data-toggle="tooltip" title="2023-06-12 - 2023-06-26">âœ…</span><span style="display:table-cell; width:7%;" data-toggle="tooltip" title="2023-06-26 - 2023-07-03">âŒ</span><span style="display:table-cell; width:7%;" data-toggle="tooltip" title="2023-07-03 - 2023-07-17">âœ…</span><span style="display:table-cell; width:7%;" data-toggle="tooltip" title="2023-07-17 - 2023-07-31">ğŸ”²</span><span style="display:table-cell; width:7%;opacity: 0.5;" data-toggle="tooltip" title="2023-07-31 - 2023-08-13">ğŸ”²</span></span>
                </li>
<li>
                   <img src="https://openastronomy.org/img/members/radis_ico.png" height="16" width="16"><a href="https://medium.com/@menasrac" data-toggle="tooltip" data-placement="top" title="2023-07-02 14:07:42+01:00" style="color:rgb(255,0,0)">
                    Racim MENASRIA
                   </a>
                   <span class="table-done" style="float: right; padding-right:600px;"><span style="display:table-cell; width:7%;" data-toggle="tooltip" title="2023-05-29 - 2023-06-12">âœ…</span><span style="display:table-cell; width:7%;" data-toggle="tooltip" title="2023-06-12 - 2023-06-26">âœ…</span><span style="display:table-cell; width:7%;" data-toggle="tooltip" title="2023-06-26 - 2023-07-03">âœ…</span><span style="display:table-cell; width:7%;" data-toggle="tooltip" title="2023-07-03 - 2023-07-17">âŒ</span><span style="display:table-cell; width:7%;" data-toggle="tooltip" title="2023-07-17 - 2023-07-31">ğŸ”²</span><span style="display:table-cell; width:7%;opacity: 0.5;" data-toggle="tooltip" title="2023-07-31 - 2023-08-13">ğŸ”²</span></span>
                </li>
<li>
                   <img src="https://openastronomy.org/img/members/radis_ico.png" height="16" width="16"><a href="https://1someshverma.github.io" data-toggle="tooltip" data-placement="top" title="2023-07-06 00:00:00+01:00" style="color:rgb(255,0,0)">
                    Somesh Verma
                   </a>
                   <span class="table-done" style="float: right; padding-right:600px;"><span style="display:table-cell; width:7%;" data-toggle="tooltip" title="2023-05-29 - 2023-06-12">âœ…</span><span style="display:table-cell; width:7%;" data-toggle="tooltip" title="2023-06-12 - 2023-06-26">âœ…</span><span style="display:table-cell; width:7%;" data-toggle="tooltip" title="2023-06-26 - 2023-07-03">âŒ</span><span style="display:table-cell; width:7%;" data-toggle="tooltip" title="2023-07-03 - 2023-07-17">âœ…</span><span style="display:table-cell; width:7%;" data-toggle="tooltip" title="2023-07-17 - 2023-07-31">ğŸ”²</span><span style="display:table-cell; width:7%;opacity: 0.5;" data-toggle="tooltip" title="2023-07-31 - 2023-08-13">ğŸ”²</span></span>
                </li>
</ul></div>
        
        
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">First week - Spectra gazing and initial ideas for fitting module</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../../../authors/tranhuunhathuy/">TranHuuNhatHuy</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2022-06-19T00:00:00+01:00" itemprop="datePublished" title="2022-06-19 00:00">2022-06-19 00:00</time></a>
            </p>
            

                    <p class="linkline"><a href="https://https://gsoc2022tranhuunhathuy.gatsbyjs.io/2.%20first-week/">Original site</a></p>
        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>So, according to the plan, in the first week I am supposed to finish these tasks:</p>
<ul>
<li>Setup a dedicated repository for reference database. Upload gathered spectra labelled with ground truths onto the database.</li>
<!-- TEASER_END -->
<li>Investigate and understand each spectra typeâ€™s nature, identification and complexity, under instructions of mentors.</li>
<li>Prepare LMFIT modules for benchmarking process.</li>
</ul>
<p>First is about a dedicated repository for reference database. Since my project is about creating a brand-new feature for RADIS users instead of making changes in RADIS codebase to increase its performance of already-implemented features, I have to do all of my work in a separated repository, before committing to the main codebase upon mentorâ€™s approval. Thus, I have created <a href="https://github.com/TranHuuNhatHuy/RADIS-Spectrum-Fitting-Benchmark">RADIS Spectrum Fitting Benchmark repository</a> specifically built for benchmarking process of RADIS spectrum fitting. This repository contains the spectra library with their curresponding ground-truths, as well as fitting modules and benchmarking results.</p>
<p>The next step is to gain more knowledge and understanding regarding the spectrum types, and nature of each of them. So basically, now Iâ€™m expected to conduct extensive benchmarking process on 4 spectrum types and find now which pipeline fits best on which spectrum type. For now, the classification of spectrum is:</p>
<ol>
<li>Large spectra: spectra containing a lot of data points, maybe because there are too many lines that fill up the RAM capacity during spectrum calculation, or because spectrumâ€™s coverage on large wavelength/wavenumber ranges (which also means â€œwideâ€ spectra), leading to various empty spaces that can be optimized. Either way, the calculation step of these spectra is extensively heavy, both in time and memory required.</li>
</ol>
<p><span class="gatsby-resp-image-wrapper" style="display: block; margin-left: auto; margin-right: auto;">
<a class="gatsby-resp-image-link" href="https://gsoc2022tranhuunhathuy.gatsbyjs.io/static/daa4fbddc9721f104f2c6c55dd426484/73b94/large.png" rel="noopener" style="display: block;" target="_blank">
<span class="gatsby-resp-image-background-image" style="display: block;"></span>
<img alt="A large spectrum of CO2, retrieved from RADIS app. We can see the result as an extensive accumulation of lines." class="gatsby-resp-image-image" src="https://gsoc2022tranhuunhathuy.gatsbyjs.io/static/daa4fbddc9721f104f2c6c55dd426484/f058b/large.png" style="width: 100%; height: 100%; margin: 0; vertical-align: middle;" title="A large spectrum of CO2, retrieved from RADIS app. We can see the result as an extensive accumulation of lines."></a>
</span></p>
<ol start="2">
<li>Narrow spectra: spectra containing small amount of data points, in which lineshape can be line-wise calculated without the need of extensive collissional broadening.</li>
</ol>
<p><span class="gatsby-resp-image-wrapper" style="display: block; margin-left: auto; margin-right: auto;">
<a class="gatsby-resp-image-link" href="https://gsoc2022tranhuunhathuy.gatsbyjs.io/static/9a0d9b2b3ffb891b1483094c89083659/58bb7/small.png" rel="noopener" style="display: block;" target="_blank">
<span class="gatsby-resp-image-background-image" style="display: block;"></span>
<img alt="A small spectrum of H2O, retrieved from RADIS app. We can see very few lines, the rest is broadening result." class="gatsby-resp-image-image" src="https://gsoc2022tranhuunhathuy.gatsbyjs.io/static/9a0d9b2b3ffb891b1483094c89083659/f058b/small.png" style="width: 100%; height: 100%; margin: 0; vertical-align: middle;" title="A small spectrum of H2O, retrieved from RADIS app. We can see very few lines, the rest is broadening result."></a>
</span></p>
<ol start="3">
<li>LTE spectra: spectra featuring only gas temperature <em>Tgas</em>, basically the major type of spectrum usually encountered throughout multiple experiments. This type of spectrum can be derived using RADISâ€™s equilibrium claculation.</li>
<li>Non-LTE spectra: spectra featuring multiple temperatures, not only gas temperature <em>Tgas</em> but also vibrational temperature <em>Tvib</em> and rotational temperature <em>Trot</em>. RADISâ€™s non-equilibrium calculation is required to calculate these spectra.</li>
</ol>
<p>In this project, I am expected to optimize these 4 types of spectrum. There are several optimization ideas that can be utilized and developed upon:</p>
<ol>
<li>For large spectra: as this type of spectrum has significant burden in the model calculation, a lot of rooms for improvement can be found in this process. For this, we can try to reduce the solution of experimental and model spectra for shorter calculation time, or we can even normalize them, since lineshape heavily relies on temperature components.</li>
<li>For small spectra: as this type of spectrum has few data points, while the calculation process is very fast, the burden one is actually spectrum generation phase. Visualization of spectrum is convenient for human, but not for machine and the cost function. So, we can by-pass this spectrum generation process and just only focus on the calculation side.</li>
<li>For LTE and Non-LTE spectra, the difference is all about the number of fitting parameters, and the choice of fitting users regarding fitting boundaries and dependencies. We can flexibly adapt these kinds of fitting pipelines.</li>
</ol>
<p>Finally is the tentative format for my brand-new fitting module. Have been in this spectroscopy community for months, I notice a lot of times newcomers arrive and get confused at the RADIS installation and its codebase. To add up, current <a href="https://radis.readthedocs.io/en/latest/auto_examples/plot_1T_fit.html">RADIS fitting example</a> is quite challenging, especially for new users of RADIS.</p>
<p>So, when designing new fitting feature from the perspective of user experience, I want to make a user-friendly interface that can benefit both. Thus, my idea is a fitting module that:</p>
<ul>
<li>Users only need to fill the fitting conditions and parameteres into something like a JSON file, along with a <em>.spec</em> Spectrum file containing the experimental spectrum to be fitted. Basically, a JSON file is going to be like this:</li>
</ul>
<div class="gatsby-highlight"><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
<span class="token property">"fileName"</span><span class="token operator">:</span> <span class="token string">"CO2-1-1900-2300-cm-1.01325-t300-v300-r300-p1-sl0.5nm.spec"</span><span class="token punctuation">,</span>
<span class="token property">"molecule"</span><span class="token operator">:</span> <span class="token string">"CO2"</span><span class="token punctuation">,</span>
<span class="token property">"isotope"</span><span class="token operator">:</span> <span class="token string">"1"</span><span class="token punctuation">,</span>
<span class="token property">"from_wavelength"</span><span class="token operator">:</span> <span class="token number">1900</span><span class="token punctuation">,</span>
<span class="token property">"to_wavelength"</span><span class="token operator">:</span> <span class="token number">2300</span><span class="token punctuation">,</span>
<span class="token property">"pressure"</span><span class="token operator">:</span> <span class="token number">1.01325</span><span class="token punctuation">,</span>
<span class="token property">"mole_fraction"</span><span class="token operator">:</span> <span class="token number">0.1</span><span class="token punctuation">,</span>
<span class="token property">"path_length"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
<span class="token property">"slit"</span><span class="token operator">:</span> <span class="token string">"0.5 nm"</span><span class="token punctuation">,</span>
<span class="token property">"fit"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
<span class="token property">"Tgas"</span><span class="token operator">:</span> <span class="token number">300</span><span class="token punctuation">,</span>
<span class="token property">"Tvib"</span><span class="token operator">:</span> <span class="token number">300</span><span class="token punctuation">,</span>
<span class="token property">"Trot"</span><span class="token operator">:</span> <span class="token number">300</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<ul>
<li>The fitting module will read the JSON file and acquire the information, while loading the experimental spectrum.</li>
<li>The whole fitting process is automatically conducted. Everything users need to do, is to fill out a JSON form, and prepare an experimental file. This is much more user-friendly instead of the above fitting example, where users have to manually define the model, refine experimental spectrum and other things.</li>
</ul>
<p>With all of this, I really hope to bring forth a brand-new fitting experience for RADIS users. Ambitions are set, now sit tight, and start coding!</p>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../../../categories/radis/" rel="tag">radis</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../20220616_0650_mihirtripathi97/" rel="prev" title="GSoC @ Stingray blog #0">Previous post</a>
            </li>
            <li class="next">
                <a href="../20220625_0000_supriya1702/" rel="next" title="Coding Begins - week 1 and week 2">Next post</a>
            </li>
        </ul></nav></aside></article><!--End of body content--><footer id="footer">
            Contents Â© 2023         <a href="mailto:openastronomy@openastronomy.com">OpenAstronomy</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         
<a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/">
<img alt="Creative Commons License BY-SA" style="border-width:0; margin-bottom:12px;" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png"></a>
            
            
        </footer>
</div>
</div>


        <script src="../../../../assets/js/all-nocdn.js"></script><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element){var i=element.getElementsByTagName('img')[0];return i===undefined?'':i.alt;}});
    </script>
</body>
</html>
