<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="../assets/xml/rss.xsl" media="all"?><rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Universe OpenAstronomy (Posts by Darshan Patil)</title><link>http://openastronomy.org/Universe_OA/</link><description></description><atom:link href="http://openastronomy.org/Universe_OA/authors/darshan-patil.xml" rel="self" type="application/rss+xml"></atom:link><language>en</language><lastBuildDate>Sun, 06 Jul 2025 02:13:26 GMT</lastBuildDate><generator>Nikola (getnikola.com)</generator><docs>http://blogs.law.harvard.edu/tech/rss</docs><item><title>Things Are Starting to Come Together</title><link>http://openastronomy.org/Universe_OA/posts/2025/06/20250629_1859_darshvn/</link><dc:creator>Darshan Patil</dc:creator><description>&lt;p&gt;The past couple of weeks have been really productive. After the initial planning and community bonding period, I’ve finally started working on the actual implementation. The transition from understanding the theory to getting hands-on with the code has been challenging but rewarding.&lt;/p&gt;
&lt;p&gt;After writing my last blog post and going through the codebase more thoroughly, I discovered there are several existing classes and methods that can be reused for this project. This has led to a revised approach that builds on what’s already working well in RADIS.&lt;/p&gt;
&lt;h4&gt;Revised Approach&lt;/h4&gt;&lt;figure&gt;&lt;img alt="" src="https://cdn-images-1.medium.com/max/876/1*XSL9jIwlwb7FZpoD5oZjEg.png"&gt;&lt;/figure&gt;&lt;p&gt;The core approach is the same as originally planned, but now the rovibrational populations are calculated using the existing RovibParFuncCalculator. This lets me reuse code while adding the electronic state functionality we need.&lt;/p&gt;
&lt;!-- TEASER_END --&gt;
&lt;p&gt;The workflow starts with user inputs: electronic temperature (Telec), rotational temperature (Trot), and optional manual band scaling. The system processes the main electronic states OH(X) and OH(A) for now only works with hydroxyl radical calculations.&lt;/p&gt;
&lt;p&gt;The ElectronicPartitionFunction computes population fractions for each electronic state at the specified electronic temperature. Meanwhile, the RovibParFuncCalculator handles rovibrational populations for each state at the rotational temperature. These calculations run in parallel, and their results get multiplied to determine total populations for each rovibrational level within each electronic state.&lt;/p&gt;
&lt;p&gt;After applying any manual band scaling factors, all contributions from the various electronic states are summed to build the complete spectrum.&lt;/p&gt;
&lt;h4&gt;The Mathematical Foundation&lt;/h4&gt;&lt;p&gt;The calculation relies on determining the total population of a rovibrational level using:&lt;/p&gt;
&lt;figure&gt;&lt;img alt="" src="https://cdn-images-1.medium.com/max/991/1*95PzSSkP9W6DyHOTonDx4A.png"&gt;&lt;/figure&gt;&lt;p&gt;This separates cleanly into electronic and rovibrational components. The electronic part depends on degeneracy and energy at the electronic temperature, while the rovibrational part accounts for vibrational and rotational contributions at the rovibrational temperature.&lt;/p&gt;
&lt;p&gt;The partition functions are calculated separately: Z_elec for electronic states and Z_rovib for rovibrational states. For practical purposes, these can be treated as separable components, which simplifies the implementation considerably.&lt;/p&gt;
&lt;h4&gt;Working with ExoMol Data&lt;/h4&gt;&lt;p&gt;Working with ExoMol’s .states files has been interesting. These files contain detailed molecular energy level information, but parsing them correctly for electronic transitions requires careful attention to the quantum mechanics involved.&lt;/p&gt;
&lt;p&gt;We’ve adapted the existing read_states functionality in RADIS to handle all the columns we need for this project. The standard format includes columns for [n, E, g, J, e/f, v, F1/F2, State], where each parameter is important for determining molecular behavior. By extending the existing parsing capabilities, we can now properly extract and interpret these electronic quantum numbers for use in subsequent calculations.&lt;/p&gt;
&lt;h4&gt;Electronic State Mapping&lt;/h4&gt;&lt;p&gt;I’ve implemented functions to map electronic states and calculate proper degeneracies, which are essential for accurate partition function calculations. This mapping system ensures each quantum state is properly characterized with its corresponding statistical weight and energy.&lt;/p&gt;
&lt;p&gt;The mapping process involves parsing quantum state labels from ExoMol files and translating them into RADIS’s internal representation. This maintains the physical meaning while adapting to RADIS’s computational framework.&lt;/p&gt;
&lt;h4&gt;Architecture Design&lt;/h4&gt;&lt;p&gt;One of the more interesting technical challenges has been designing the partition function architecture for electronic states. I’ve been working with the existing RovibParFuncCalculator in radis/levels/partfunc.py, which handles rovibrational partition functions effectively.&lt;/p&gt;
&lt;p&gt;The architecture centers on separating electronic partition function calculations into dedicated components while maintaining integration with existing functionality. The ElectronicPartitionFunction class handles electronic state calculations, managing the quantum mechanical relationships and temperature dependencies for electronic population distributions.&lt;/p&gt;
&lt;p&gt;This integrates with existing rovibrational calculations and allows users to specify different electronic temperatures (Telec) independently from rovibrational temperatures. This separation makes physical sense since electronic excitation often occurs under different conditions than rovibrational excitation.&lt;/p&gt;
&lt;p&gt;The system also includes manual band intensity adjustment capabilities, giving researchers flexibility to fine-tune calculations based on experimental observations or theoretical corrections that might not be fully captured in the base calculations.&lt;/p&gt;
&lt;h4&gt;Current Implementation Status&lt;/h4&gt;&lt;p&gt;The implementation is progressing well. ExoMol parsing now properly handles electronic state information, and band scaling functionality works with dictionary-based input formats.&lt;/p&gt;
&lt;p&gt;The ElectronicPartitionFunction class computes population fractions for individual electronic states at specified temperatures. The enhanced RovibParFuncCalculator handles rovibrational populations across multiple electronic states. Integration multiplies electronic fractions by rovibrational populations to get total level populations, and final spectrum synthesis sums contributions from all electronic states.&lt;/p&gt;
&lt;h4&gt;Next Steps&lt;/h4&gt;&lt;p&gt;The next phase will focus on fixing the broken control and data flow, optimization, testing with various molecular systems, and ensuring robust performance across the range of conditions RADIS users encounter.&lt;/p&gt;
&lt;img alt="" height="1" src="https://medium.com/_/stat?event=post.clientViewed&amp;amp;referrerSource=full_rss&amp;amp;postId=388f0918afc5" width="1"&gt;</description><category>radis</category><guid>http://openastronomy.org/Universe_OA/posts/2025/06/20250629_1859_darshvn/</guid><pubDate>Sun, 29 Jun 2025 17:59:01 GMT</pubDate></item><item><title>Starting My GSoC Journey with RADIS</title><link>http://openastronomy.org/Universe_OA/posts/2025/06/20250607_0422_darshvn/</link><dc:creator>Darshan Patil</dc:creator><description>&lt;h4&gt;Getting Started&lt;/h4&gt;&lt;p&gt;A month has passed since the GSoC results came out, and honestly, and the excitement still hasn’t quite settled. That announcement day was pretty intense, my mind was racing, second-guessing everything. But wow, things worked out even better than I’d hoped.&lt;/p&gt;
&lt;p&gt;The community bonding period hit right during my final exams, which was tricky timing. So I focused on what mattered most, getting to know my mentors, joining the weekly calls, and really wrapping my head around the project from a theoretical standpoint.&lt;/p&gt;
&lt;h4&gt;What I’m Working On&lt;/h4&gt;&lt;p&gt;I’m working on something called “&lt;strong&gt;Electronic Spectra for RADIS.&lt;/strong&gt;” Basically, RADIS is this awesome library for modeling rovibrational spectra, but it’s missing one key piece; electronic transitions. That’s where I come in! I want to add that missing functionality and make RADIS even more powerful.&lt;/p&gt;
&lt;!-- TEASER_END --&gt;
&lt;p&gt;Even though I already knew RADIS pretty well, I spent time going through everything again to make sure I really understood what needed to be done. No point in reinventing the wheel, right? My mentor Nicolas helped me put together a solid plan that actually makes sense.&lt;/p&gt;
&lt;h4&gt;Breaking It Down&lt;/h4&gt;&lt;p&gt;Here’s how I’m breaking it down into four main chunks:&lt;/p&gt;
&lt;p&gt;First up is &lt;strong&gt;OH Electronic Spectra Calculation&lt;/strong&gt; — I’m starting with OH molecules as my test case and building the ability to manually tweak electronic band intensities when things are not in equilibrium as suggested by Nicolas in the project idea, “&lt;em&gt;starting with non-equilibrium spectra of atomic species makes sense since the physics is slightly easier than for molecules&lt;/em&gt;.”&lt;/p&gt;
&lt;p&gt;Then comes &lt;strong&gt;Electronic Temperature Support&lt;/strong&gt; — this is where I’ll add calculations for electronic state populations, assuming the electronic temperature is different from the other temperatures.&lt;/p&gt;
&lt;p&gt;Third is &lt;strong&gt;Equilibrium OH Spectrum&lt;/strong&gt; — putting together everything from the earlier steps to calculate OH spectra when things are in equilibrium.&lt;/p&gt;
&lt;p&gt;Finally, &lt;strong&gt;Extension to ExoMol Molecules&lt;/strong&gt; — taking what I’ve built and making it work for all ExoMol molecules.&lt;/p&gt;
&lt;p&gt;This approach builds on what RADIS already does well while systematically adding the electronic transition stuff, all within the GSoC timeline.&lt;/p&gt;
&lt;h4&gt;The Technical Stuff&lt;/h4&gt;&lt;h4&gt;Working with Data Files&lt;/h4&gt;&lt;figure&gt;&lt;img alt="" src="https://cdn-images-1.medium.com/max/1024/1*pTN3jp3K2szObHXmSYp3gw.png"&gt;&lt;figcaption&gt;Sample of the OH .states file format showing electronic state information and quantum numbers.&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;To kick off the first milestone, I’m using the .states file from ExoMol for OH molecules, which has all the electronic state info and quantum numbers. RADIS already has a read_states() function in exomolapi.py that can parse this format, but right now it only extracts:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;i: State counting number&lt;/li&gt;&lt;li&gt;E: State energy&lt;/li&gt;&lt;li&gt;g: State degeneracy&lt;/li&gt;&lt;li&gt;J: Total angular momentum&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;I’ll modify this to additionally extract the electronic-specific parameters:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;State: Electronic state label (e.g., X(²Π))&lt;/li&gt;&lt;li&gt;Λ: Electronic angular momentum quantum number&lt;/li&gt;&lt;li&gt;Σ: Spin angular momentum quantum number&lt;/li&gt;&lt;li&gt;Ω: Total electronic angular momentum quantum number&lt;/li&gt;&lt;li&gt;Type: State type (e.g., Ma for main)&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;This will be the foundation for getting electronic transitions working in RADIS.&lt;/p&gt;
&lt;h4&gt;Making the Calculations Work&lt;/h4&gt;&lt;p&gt;For the population calculations, I’ll be working with the existing partfunc.py file. I'm planning to create a new ElectronicPartitionFunction class and implement the Boltzmann distribution for electronic states. Nicolas referenced a formula from his &lt;a href="https://theses.fr/2020UPAST052"&gt;thesis (Chapter 1, Section 1.1)&lt;/a&gt; that’s relevant to what I’m implementing.&lt;/p&gt;
&lt;figure&gt;&lt;img alt="Boltzmann distribution" src="https://cdn-images-1.medium.com/max/1024/1*bEtk5kQGqpD5kbzwgmLeCQ.png"&gt;&lt;figcaption&gt;Boltzmann distribution&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;All of this will eventually get integrated into SpectrumFactory to compute electronic spectra in SpectrumFactory.non_eq_spectrum(). I'll be adding an electronic temperature (Telec) parameter and thinking about using the overpopulation parameter for manually adjusting electronic band intensities.&lt;/p&gt;
&lt;h4&gt;What’s Next&lt;/h4&gt;&lt;p&gt;I’m planning to work on all this over the next few weeks to nail the first milestone. I’m genuinely excited to be part of this project and can’t wait to learn tons and build something really cool. This is going to be an amazing journey!&lt;/p&gt;
&lt;img alt="" height="1" src="https://medium.com/_/stat?event=post.clientViewed&amp;amp;referrerSource=full_rss&amp;amp;postId=14b98a245c55" width="1"&gt;</description><category>radis</category><guid>http://openastronomy.org/Universe_OA/posts/2025/06/20250607_0422_darshvn/</guid><pubDate>Sat, 07 Jun 2025 03:22:57 GMT</pubDate></item></channel></rss>